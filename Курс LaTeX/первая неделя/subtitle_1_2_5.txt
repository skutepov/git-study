В этом последнем видеофрагменте,
посвященном первому уроку "Математика в LaTeX", я хочу показать вам, как делать матрицы и как
более тонко работать с нумерацией формул. Для этого я в нашем документе, с которым
мы работаем в этом уроке, создам новый section и назову его "Матрицы". И сделаем какую-нибудь простую матрицу. Перейдем в математический режим. Матрицу вы хотите почти всегда набирать
в режиме выключной формулы, то есть, чтобы она была на
отдельной строке. Какая-нибудь матрица высотой больше чем
в одну строку внутри текста выглядит
странно. Поэтому я перешел в режим выключной
формулы и набираю команду \begin{pmatrix}. pmatrix - p-матрица. Сейчас вы увидите, что
это означает. А внутри нее использую такой же синтаксис,
как использовался в командах \align и \aligned, то есть амперсанды для разделения
столбиков, и двойные обратные слэши для разделения
строчек. Итак, первая строчка. Скажем, у меня
матрица - вот такая. Скажем, a с индексом один один, - чтобы
поставить нижний индекс, кстати, нужно поставить такое подчеркивание после
символа, и дальше в фигурных скобках написать то, что должно
быть в этом индексе. Амперсанд, следующий элемент - это a один
два - например. Следующий элемент - это a один три. Смотрите, результатом того, что я так
написал один три, будет то, что единичка только будет в индексе, а
тройка будет уже большой цифрой. Потому что если фигурных скобок
нет, то только первый символ после подчеркивания
воспринимается как нижний индекс. Поэтому я поставлю все это в фигруные
скобки. Все, строчка закончилась. Я ставлю двойной обратный слэш. Во второй строчке у меня элементы a два
один, a два два, и a два три - все они разделены
аперсандами. Вот, давайте попробуем это запустить. Что мы видим? Мы видим матрицу, окруженную круглыми
скобками, то есть самую часто встречающуюся,
наверное, матрицу. Команда pmatrix создает именно ее. Вам не нужно заранее продумывать,
какого размера будет эта матрица, и не нужно 
как-то думать о том, как будут в ней построены цифры, как их нужно выравнивать, сколько
будет столбиков, строчек. Вы просто пишете их естественным образом,
а все остальное LaTeX подберет сам. Что, если мне нужна матрица не в круглых
скобках, а в каких-нибудь других скобках? Например, матрица в таких…
внутри двух вертикальных линий. Для этого, для этих вертикальных линий,
вместо окружения pmatrix, мне нужно написать
vmatrix. Обратите внимание, что TeXstudio сразу
исправил, когда я исправил в команде \begin, то команда \end
исправилась сама собой. vmatrix - это значит вертикальные линии,
вот так вот. Вот такая получилась матрица. Ну, какие еще бывают случаи? Например, если мне нужна матрица в
квадратных скобках, то я, опять же, исправлю здесь
одну букву, и это будет bmatrix. Запускаем, вот матрица в квадратных
скобках. Очень просто, если вам не нужны больше
никакие навороты от этих матриц, скажем, какие-нибудь линии, разделяющие столбцы
или строки, то вы можете создавать их вот так просто. Если вам нужны какие-то навороты, скажем,
вам нужна какая-нибудь окаймленная матрица, и требуется провести где-нибудь
вертикальную, горизонтальную черту, или поставить многоточие сразу на
несколько строчек и столбцов, то это потребует несколько
более продвинутой работы. С этим вы можете познакомиться в любом
пособии, например, в Львовском. И последнее, я говорил, что можно
варьировать то, как нумеруются формулы. Вот
смотрите, если вернуться назад в наш документ, там, где у нас было несколько формул, вот это вот,
целых, целых шесть формул получили три номера, и
в общем, это не очень естественно. Скорее всего,
такой набор формул нужен просто, чтобы показать
какой-то набор выражений. Может быть, я никогда не буду на
него ссылаться, и номера совсем не нужны. Для этого я могу вместо команды align,
которую я здесь использовал, - вот видите, я в
исходном тексте вернулся к этому месту, - могу
использовать команду align со звездочкой. Это частое явление
в LaTeX, что если вы вместо какой-то команды
используете ее версию со звездочкой, то просто
исчезает нумерация. Давайте запустим, и посмотрим, что будет. Вот и все, нумерация исчезла у всего, что находится внутри этого align со
звездочкой. Ну и, естественно, вся остальная
нумерация перестроилась, то есть раньше здесь вот
эта тройка была не тройкой, а шестеркой,
потому что перед ней было еще три формулы. Но теперь, в соответствии с новой нумерацией, она является номером
три. Вот. Что, если я хочу - вот, у меня тут был multline, он тоже получил
автоматический номер, - это тоже верно, что если бы я написал multline со звездочкой, то не было бы
никакого номера. Но что, если я хочу вместо номера
два что-нибудь другое? То есть, что, если я хочу
нумеровать вот именно эту конкретную формулу не цифрой, которая
ей соответствует, а каким-нибудь своим символом или каким-нибудь словом,
которое мне нужно, чтобы здесь было. Для этого есть такая команда, \tag, и
внутри команды \tag нужно написать, что я здесь
жду. Скажем эту формулу, я хочу назвать как-нибудь буквой, буквой S, потому что
это сумма. Я написал здесь \tag{S} - давайте запустим и
посмотрим, что произошло. Двоечка, которая здесь была, заменилась на
букву S. Вместе с тем, нумерацию надо
продолжать, а двойки еще не было, поэтому то, что дальше, получило номер. Это теперь
цифра два. Вот. Что если я на эту формулу c буквой S
хочу сослаться? Помните, что есть такая команда \label? Я у \label напишу название eq, потому что это
equation. Такой тип, тип объекта, и назову его
сумма - sum. А дальше куда-нибудь там перейду вниз, в
самый конец документа, и скажу, что "В уравнении", - как вы помните, используется команда \eqref, чтобы ссылаться на
уравнения, - и мне здесь предлагается выбор. Вот я нашел свое. "В уравнении \eqref", которое указано, "на
странице", на странице, теперь "\pageref" - \pageref тоже можно
выбрать - так, "много слагаемых", точка. Давайте запустим и посмотрим, что
получилось. А, у меня здесь опечатка, сейчас я ее
исправлю. Вот, что получилось: "В уравнении S на
странице два много слагаемых". То есть сюда подставляется, в команду
\eqref подставляется что бы то ни было, чем пронумеровано
уравнение, на которое мы ссылаемся. Некоторые стандарты требуют, чтобы
пронумерованы были только те формулы, на которые в тексте есть
ссылки. Но, иногда, это сложно предугадать, какие
формулы будут со ссылками, а какие нет. Было бы удобнее пронумеровать все
формулы, потом расставить ссылки в документе на те из них,
которые нужны, и сделать так, чтобы отображались только
нужные номера. То есть нумеровались только те формулы, на которые в тексте есть непосредственная
сссылка. Поскольку это было бы удобнее, вполне
естественно, что в LaTeX это реализовано. Если мы вернемся в нашу преамбулу, там
есть такая команда, которая пока что была под
комментарием, - вот эта вот. showonlyrefs = true. Если я
уберу здесь знак процента, то есть заставлю LaTeX эту
команду обработать, то произойдет именно то, что я сейчас
описал. То есть номера исчезнут у всех формул, на
которые в тексте не встречаются ссылки. Но у тех, на которые встречаются
ссылки, номера формул останутся. Итак, запускаем, и можно видеть, что нигде
больше номеров нет, кроме двух мест, которые мы
использовали для ссылок. Во-первых, уравнение MR = MC, которое у нас автоматически
пронумеровалось единицей. Как вы помните, мы тут на него сразу же
сослались - вот здесь. И то самое уравнение S, на
которое мы тоже сослались, - вот оно. Мы на него ссылаемся в конце,
поэтому LaTeX оставил у него номер. Это замечательная функция, которая
очень сильно облегчает жизнь, если вы делаете, особенно, большой документ,
и вдруг внезапно узнали, что только те формулы
пронумерованы, на которые есть… должны быть пронумерованы, на которые есть
ссылки в документе. Такая новость, которую вам может сообщить ваш редактор, может быть очень
плохой, если вы делаете документ в Word, потому что там придется вручную это
переделывать. Но здесь нужно всего лишь одну строчку
добавить в преамбулу, и будет реализовано то, что
нужно. Что, если ваш редактор вдруг вам сказал,
что нумерация всех формул в вашем документе должна быть
слева, а не справа. Вот здесь она, как вы могли видеть, была
всегда справа. Но, если вам нужно нумеровать слева, то в
LaTeX это делается очень просто. Нужно в самом начале документа,
там, где у нас есть команда \documentclass, добавить
еще один аргумент. Там сейчас два аргумента: то, что бумага A4, и
шрифт 12 пунктов. То, что нужно добавить,  - это опция \leqno. Она расшифровывается как "слева,
уравнение, нумеровать". Если мы это сделаем, запустим сейчас
документ обрабатываться, то все номера переедут в левую часть, там, где мы
и хотели. Если убрать эту опцию, то номера окажутся
в правой части, как и раньше. На этом закончено наше знакомство с оформлением математики в издательской
системе LaTeX.